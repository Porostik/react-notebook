(this["webpackJsonpfreelance-list"]=this["webpackJsonpfreelance-list"]||[]).push([[0],{447:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),o=n.n(c),s=n(35),i=n(486),u=n(51),l=n(80),j=n(307),b=n(493),d=n(24),m=n(77),O=n(28),p=n(487),f=Object(r.createContext)(null),h=n(21),x=n(23),v=n(155),g=(n(340),n(342),{apiKey:"AIzaSyCiu2JYwYS5MYp9qqUFAucI1uEqoZGYdTo",authDomain:"react-freelance-list.firebaseapp.com",databaseURL:"https://react-freelance-list-default-rtdb.firebaseio.com",projectId:"react-freelance-list",storageBucket:"react-freelance-list.appspot.com",messagingSenderId:"468766576098",appId:"1:468766576098:web:3823c9870422c9971ffdbb"}),y=new(function(){function e(){Object(h.a)(this,e),v.a.initializeApp(g),this.auth=v.a.auth(),this.db=v.a.database()}return Object(x.a)(e,[{key:"login",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"loginAsGuest",value:function(){return this.auth.signInAnonymously()}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"registration",value:function(e,t){return this.auth.createUserWithEmailAndPassword(e,t)}},{key:"getCustomers",value:function(){var e=this.auth.currentUser.uid,t=this.db.ref("".concat(e,"/customers"));return this.auth.currentUser.isAnonymous&&(t=this.db.ref("demo")),t.once("value",(function(e){return e.val()}))}},{key:"getCustomer",value:function(e){var t=this.auth.currentUser.uid,n=this.db.ref("".concat(t,"/customers/").concat(e));return this.auth.currentUser.isAnonymous&&(n=this.db.ref("demo/".concat(e))),n.once("value",(function(e){return e.val()}))}},{key:"addNewCustomer",value:function(e){if(this.auth.currentUser.isAnonymous)return Promise.resolve();var t=this.auth.currentUser.uid;return this.db.ref("".concat(t,"/customers/").concat(e.uid)).set(e)}},{key:"updateCstuomer",value:function(e){if(this.auth.currentUser.isAnonymous)return Promise.resolve();var t=this.auth.currentUser.uid;return this.db.ref("".concat(t,"/customers/").concat(e.uid)).update(e)}},{key:"deleteCustomer",value:function(e){if(this.auth.currentUser.isAnonymous)return Promise.resolve();var t=this.auth.currentUser.uid;return this.db.ref("".concat(t,"/customers/").concat(e)).remove()}}]),e}()),C=n(452),N=n(483),k=n(485),w=n(450),I=n(196),S=n(482),T=n(484),E=n(498),L=n(321),D=n(451),P=n(9),R=n(284),A=Object(R.a)((function(e){return{root:{backgroundColor:e.primary,display:"flex",flexDirection:"column",borderRadius:5,marginBottom:"20px"},mainInfo:{width:"100%",display:"flex",alignItems:"center"},importantItem:{minWidth:25},socialsList:{width:"50%",display:"flex",flexWrap:"wrap",justifyContent:"center",marginLeft:30},socialLink:{color:e.color,marginLeft:10},socialsPlaceholder:{color:e.color,textAlign:"center"},avatar:{width:60,height:60,backgroundColor:e.secondary,color:e.color},nameBlock:{width:100,color:e.color,marginLeft:10},nameItem:{overflow:"hidden",textOverflow:"ellipsis"},descriptionBlock:{display:"flex",flexDirection:"column",marginTop:20},descriptionWrap:{width:"100%"},description:{backgroundColor:e.secondary,padding:"10px 20px",color:e.color,borderRadius:5,minHeight:"150px"},descriptionButton:Object(P.a)(Object(P.a)({},e.button),{},{alignSelf:"flex-end",marginTop:15,backgroundColor:e.secondary}),deleteButton:Object(P.a)(Object(P.a)({},e.button),{},{alignSelf:"flex-start",marginTop:15,backgroundColor:"#ff0000",color:"#ffffff "}),buttonWrap:{display:"flex",justifyContent:"space-between"}}})),B=n(473),U=n(475),M=n(476),_=n(477),W=n(478),z="LOADING_START",q="LOADING_ERROR",F="LOADING_SUCCESS",V="UPDATE_CUSTOMER",G="DELETE_CUSTOMER",H="SET_INITIAL_STATE",Y="SET_DEMO",J="CLOSE_DEMO_POPUP",X="SET_NAME_FILTER",K="SET_PARAMITER",Z="SET_EDIT_CUSTOMER",Q="START_LOADING",$="SET_ERROR",ee="/",te="/login",ne="/registration",re="/editCustomerPage",ae="/addCustomer",ce="/errorPage",oe={facebook:B.a,linkedIn:U.a,instagram:M.a,twitter:_.a,unselected:W.a},se=[{name:"facebook",component:B.a},{name:"twitter",component:_.a},{name:"instagram",component:M.a},{name:"unselected",component:W.a}],ie=[{replay:"\u0418\u043c\u044f",value:"firstname"},{replay:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:"surname"},{replay:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",value:"lastname"}],ue={importantFirst:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u0430\u0436\u043d\u044b\u0435"},le="\u0414\u0435\u043c\u043e \u0440\u0435\u0436\u0438\u043c. \u0412\u043d\u0435\u0441\u0451\u043d\u043d\u044b\u0435 \u0432\u0430\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",je=n(479),be=n(5);var de=function(e){var t=e.icon,n=e.socialUrl,r=A();return Object(be.jsx)(je.a,{className:r.socialLink,href:n,children:Object(be.jsx)(t,{})})};var me=function(e){var t=e.socialsList,n=A();return Object(be.jsx)(I.a,{className:n.socialsList,children:t.length>0?t.map((function(e,t){return Object(be.jsx)(de,{icon:oe[e.name],socialUrl:e.url},t)})):Object(be.jsx)(L.a,{className:n.socialsPlaceholder,children:"\u0412\u044b \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0441\u043e\u0446\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439"})})},Oe=n(480),pe=n(481);var fe=function(e){var t=e.isOpen,n=e.onDelete,r=e.onEdit,a=e.description,c=A();return Object(be.jsx)(Oe.a,{className:c.descriptionWrap,in:t,children:Object(be.jsxs)(I.a,{className:c.descriptionBlock,children:[Object(be.jsx)(L.a,{component:"p",className:c.description,children:a}),Object(be.jsxs)(I.a,{className:c.buttonWrap,children:[Object(be.jsx)(pe.a,{className:c.deleteButton,onClick:n,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(be.jsx)(pe.a,{className:c.descriptionButton,onClick:r,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})};var he=function(e){var t=e.customer,n=e.deleteCustomer,r=A(),c=a.a.useState(!1),o=Object(d.a)(c,2),s=o[0],i=o[1],u=Object(O.g)();return Object(be.jsxs)(w.a,{className:r.root,children:[Object(be.jsxs)(I.a,{className:r.mainInfo,children:[Object(be.jsx)(S.a,{className:r.importantItem,children:t.isImportant&&Object(be.jsx)(N.a,{})}),Object(be.jsx)(T.a,{className:r.avatarIcon,children:Object(be.jsx)(E.a,{className:r.avatar,children:t.initials})}),Object(be.jsxs)(I.a,{className:r.nameBlock,children:[Object(be.jsx)(L.a,{className:r.nameItem,children:t.fullName.surname}),Object(be.jsx)(L.a,{className:r.nameItem,children:t.fullName.firstname}),Object(be.jsx)(L.a,{className:r.nameItem,children:t.fullName.lastname})]}),Object(be.jsx)(me,{socialsList:Object.values(t.socials)}),Object(be.jsx)(D.a,{onClick:function(){return i((function(e){return!e}))},children:Object(be.jsx)(k.a,{})})]}),Object(be.jsx)(fe,{isOpen:s,onDelete:n,onEdit:function(){return u.push("".concat(re,"/").concat(t.uid))},description:t.description})]})};var xe=function(e){var t=e.list,n=e.deleteCustomer;return Object(be.jsx)(C.a,{children:t.map((function(e){return Object(be.jsx)(he,{deleteCustomer:function(){return n(e.uid)},customer:e},e.uid)}))})},ve=n(31),ge=n.n(ve),ye=n(50),Ce=function(e){return{type:G,payload:e}},Ne=function(){return{type:z}},ke=function(){return{type:q}},we=function(e){return{type:F,payload:e}},Ie=n(156),Se=n(308),Te=function(e,t){var n=Object(P.a)({},e);return delete n[t],Object.values(n)<1&&(n=null),n},Ee={importantFirst:function(e,t){return t?Object(Se.orderBy)(e,"isImportant","desc"):e}},Le=Object(Ie.a)([function(e){return e.customers.customers},function(e){return e.customers.nameFilter}],(function(e,t){if(!e)return[];var n=Object.values(e),r=t.value.trim();return r?n.filter((function(e){return e.fullName[t.type].startsWith(r)})):e})),De=Object(Ie.a)([Le,function(e){return e.customers.paramiters}],(function(e,t){var n=e;return Object.keys(t).forEach((function(e){n=Ee[e](n,t[e])})),n})),Pe=Object(Ie.a)([De],(function(e){return e?Object.values(e).map((function(e){return(t=e).socials=t.socials||[],t.initials=t.fullName.surname[0]+t.fullName.firstname[0],t;var t})):e})),Re=(0,n(13).makeStyles)((function(e){return{paceholderBox:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},paceholderText:{color:e.color,fontSize:20,margin:"0 auto"},loader:{color:e.color,margin:"20px auto",display:"block"}}}));var Ae=function(e){var t=e.text,n=Re();return Object(be.jsx)(I.a,{className:n.paceholderBox,children:Object(be.jsx)(L.a,{className:n.paceholderText,children:t})})};var Be=function(){var e=a.a.useContext(f),t=Object(m.a)(e.auth),n=Object(d.a)(t,1)[0],r=Object(s.c)(Pe),c=Object(s.c)((function(e){return e.customers.isLoading})),o=Object(s.b)(),i=Object(O.g)(),u=Re();return a.a.useEffect((function(){n&&o(function(e){return function(){var t=Object(ye.a)(ge.a.mark((function t(n){var r;return ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ne()),t.prev=1,t.next=4,y.getCustomers();case 4:r=t.sent,n(we(r.val())),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),n(ke()),e.push("/errorPage");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(i))}),[n]),c?Object(be.jsx)(p.a,{className:u.loader,size:50}):r.length>0?Object(be.jsx)(xe,{list:r,deleteCustomer:function(e){o(function(e,t){return function(){var n=Object(ye.a)(ge.a.mark((function n(r){return ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.deleteCustomer(e);case 3:r(Ce(e)),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.push("/errorPage");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(e,i))}}):Object(be.jsx)(Ae,{text:"\u0412\u044b \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"})},Ue=n(490);var Me=function(){return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(O.b,{exact:!0,path:"".concat(re,"/:id"),children:function(e){var t=e.match;return Object(be.jsx)(Ue.a,{scroll:"body",open:Boolean(t),children:Object(be.jsx)(ln,{})})}}),Object(be.jsx)(O.b,{exact:!0,path:"".concat(ae),children:function(e){var t=e.match;return Object(be.jsx)(Ue.a,{scroll:"body",open:Boolean(t),children:Object(be.jsx)(ln,{})})}})]})},_e=n(17),We=n(496),ze=n(314),qe=n.n(ze),Fe=Object(R.a)((function(e){return{input:Object(P.a)({},e.input),button:Object(P.a)(Object(P.a)({},e.button),{},{borderRadius:"50%"}),selectMenu:{"& ul":{backgroundColor:e.primary}},select:{"&.MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:e.primary,boxShadow:"0 0 5px #ccc"},"&.Mui-focused fieldset":{borderColor:e.primary}}}}})),Ve=n(465),Ge=n(494);var He=function(e){var t=Object(_e.e)(e),n=Object(d.a)(t,1)[0],r=Fe();return Object(be.jsx)(Ve.a,Object(P.a)(Object(P.a)({},n),{},{variant:"outlined",className:r.select,MenuProps:{classes:{paper:r.selectMenu}},defaultValue:ie[0].value,children:ie.map((function(e,t){return Object(be.jsx)(Ge.a,{value:e.value,children:e.replay},t)}))}))};var Ye=function(e){var t=e.onSubmit,n=Fe();return Object(be.jsx)(_e.d,{initialValues:{filterType:ie[0].value,searchValue:""},onSubmit:function(e){return t(e)},children:function(){return Object(be.jsx)(_e.c,{children:Object(be.jsxs)(b.a,{container:!0,justify:"space-around",alignItems:"center",children:[Object(be.jsx)(_e.a,{name:"filterType",as:He}),Object(be.jsx)(_e.a,{name:"searchValue",variant:"outlined",className:n.input,as:We.a}),Object(be.jsx)(D.a,{className:n.button,type:"submit",children:Object(be.jsx)(qe.a,{})})]})})}})};var Je=function(){var e=Object(s.b)();return Object(be.jsx)(Ye,{onSubmit:function(t){var n=t.filterType,r=t.searchValue;e({type:X,payload:{type:n,value:r}})}})},Xe=Object(R.a)((function(e){return{root:{padding:"20px"},button:Object(P.a)(Object(P.a)({},e.button),{},{margin:"0 auto"})}})),Ke=n(492),Ze=n(497),Qe=Object(R.a)((function(e){return{checkbox:Object(P.a)({},e.checkbox),paramText:{color:e.color}}}));var $e=function(e){var t=e.text,n=e.isChecked,r=e.onChange,a=e.name,c=Qe();return Object(be.jsx)(Ke.a,{className:c.paramText,control:Object(be.jsx)(Ze.a,{onChange:function(e){r(a,e.target.checked)},checked:n,className:c.checkbox}),label:t})};var et=function(){var e=Object(s.c)((function(e){return e.customers.paramiters})),t=Object(s.b)(),n=a.a.useCallback((function(e,n){t(function(e,t){return{type:K,payload:{name:e,value:t}}}(e,n))}),[]);return Object(be.jsx)(b.a,{container:!0,children:Object.keys(e).map((function(t,r){return Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",children:Object(be.jsx)($e,{text:ue[t],onChange:n,isChecked:e[t],name:t})},r)}))})};var tt=function(){var e=Object(O.g)(),t=Xe();return Object(be.jsxs)(b.a,{className:t.root,container:!0,item:!0,spacing:6,justify:"flex-end",children:[Object(be.jsx)(b.a,{item:!0,xs:12,children:Object(be.jsx)(Je,{})}),Object(be.jsx)(et,{}),Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",children:Object(be.jsx)(pe.a,{className:t.button,onClick:function(){return e.push(ae)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})},nt=n(488),rt=Object(R.a)((function(e){return{root:{display:"flex",height:50,alignItems:"center",minWidth:"15%",marginLeft:40},button:Object(P.a)(Object(P.a)({},e.button),{},{backgroundColor:e.secondary,marginLeft:"30px",width:"100px",height:"100%"}),userInfo:{color:e.color}}}));var at=function(e){var t=e.userInfo,n=e.buttonOnClick,r=rt();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(L.a,{className:r.userInfo,children:t}),Object(be.jsx)(pe.a,{className:r.button,onClick:n,children:"\u0412\u044b\u0439\u0442\u0438"})]})};function ct(){var e=rt(),t=a.a.useContext(f),n=Object(O.g)(),r=Object(m.a)(t.auth),c=Object(d.a)(r,1)[0],o=Object(s.b)(),i=function(){var e=Object(ye.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.logout();case 3:n.push(te),o({type:H}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(be.jsx)(nt.a,{children:Object(be.jsx)(I.a,{className:e.root,children:c&&Object(be.jsx)(at,{buttonOnClick:i,userInfo:c.email||"Guest"})})})}var ot=a.a.memo(ct),st=n(105),it=Object(R.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},loader:{color:e.primary}}}));var ut=function(){var e=it();return Object(be.jsx)(I.a,{className:e.root,children:Object(be.jsx)(p.a,{size:100,className:e.loader})})};var lt=function(e){var t=e.component,n=Object(st.a)(e,["component"]),r=a.a.useContext(f),c=Object(m.a)(r.auth),o=Object(d.a)(c,2),s=o[0];return o[1]?Object(be.jsx)(ut,{}):Object(be.jsx)(O.b,Object(P.a)(Object(P.a)({},n),{},{render:function(){return s?Object(be.jsx)(t,{}):Object(be.jsx)(O.a,{to:"/login"})}}))};var jt=function(e){var t=e.component,n=e.redirectUrl,r=Object(st.a)(e,["component","redirectUrl"]),c=a.a.useContext(f),o=Object(m.a)(c.auth),s=Object(d.a)(o,2),i=s[0];return s[1]?Object(be.jsx)(ut,{}):Object(be.jsx)(O.b,Object(P.a)(Object(P.a)({},r),{},{render:function(){return i?Object(be.jsx)(O.a,{to:n}):Object(be.jsx)(t,{})}}))};var bt=function(){return Object(be.jsxs)(O.d,{children:[Object(be.jsx)(jt,{path:te,component:Lt,redirectUrl:ee}),Object(be.jsx)(jt,{path:ne,component:Ut,redirectUrl:ee}),Object(be.jsx)(O.b,{exact:!0,path:ce,component:dn}),Object(be.jsx)(lt,{path:ee,component:xt})]})},dt=n(495),mt=Object(R.a)((function(e){return{wrapper:{position:"relative",minWidth:750,minHeight:55},root:{position:"fixed",left:"50%",bottom:10},popup:{minWidth:750,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 20px",borderRadius:10,backgroundColor:"#969c6b"},text:{color:e.color},button:Object(P.a)(Object(P.a)({},e.button),{},{backgroundColor:e.secondary})}})),Ot=n(202);var pt=function(e){var t=e.children,n=Object(Ot.b)({from:{position:"absolute",top:"100%",left:0},to:{top:"0%"}});return Object(be.jsx)(Ot.a.div,{style:n,children:t})};var ft=function(e){var t=e.text,n=e.onClose,r=e.isOpen,c=a.a.useRef(null),o=a.a.useState(!1),s=Object(d.a)(o,2),i=s[0],u=s[1],l=mt();return a.a.useEffect((function(){u(Boolean(c&&r))}),[c,r]),Object(be.jsx)(I.a,{className:l.root,ref:c,children:Object(be.jsx)(dt.a,{open:i,anchorEl:c.current,transition:!0,children:Object(be.jsx)(I.a,{className:l.wrapper,children:Object(be.jsx)(pt,{children:Object(be.jsxs)(I.a,{className:l.popup,children:[Object(be.jsx)(L.a,{className:l.text,children:t}),Object(be.jsx)(pe.a,{className:l.button,onClick:n,children:"Ok"})]})})})})})};var ht=function(){var e=Object(s.c)((function(e){return e.customers.demo})),t=Object(s.b)();return Object(be.jsx)(ft,{text:le,isOpen:e.isActive&&e.openDemoPopup,onClose:function(){t({type:J})}})};var xt=function(){return Object(be.jsxs)(b.a,{container:!0,spacing:5,children:[Object(be.jsx)(b.a,{item:!0,xs:6,children:Object(be.jsx)(Be,{})}),Object(be.jsx)(b.a,{item:!0,xs:6,children:Object(be.jsx)(tt,{})}),Object(be.jsx)(Me,{}),Object(be.jsx)(ht,{})]})},vt=Object(R.a)((function(e){return{loginPageRoot:{minHeight:"430px",display:"flex",flexDirection:"column",alignItems:"center"},title:{color:e.color,marginBottom:20},link:{color:e.color,fontSize:18,textDecoration:"none",cursor:"pointer",marginTop:30},button:Object(P.a)(Object(P.a)({},e.button),{},{minWidth:140})}})),gt=n(457),yt=Object(R.a)((function(e){return{loginForm:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"50%",height:"60%"},statusTest:{color:e.errorColor,textAlign:"center"},button:Object(P.a)(Object(P.a)({},e.button),{},{width:"60%",margin:"0 auto"}),link:{color:e.color,fontSize:18,textDecoration:"none",cursor:"pointer"},buttonsBox:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",width:"100%",height:150}}})),Ct=n(197),Nt=Object(R.a)((function(e){return{rootControl:{minHeight:100,flexGrow:.6},input:{backgroundColor:e.primary,"& .MuiOutlinedInput-root":{color:e.color,"&.Mui-focused":{"& fieldset":{borderColor:e.primary,borderWidth:3}},"& fieldset":{borderColor:e.prymary}}},error:{color:e.errorColor,fontSize:15,letterSpacing:1}}}));var kt=function(e){var t=Object(_e.e)(e),n=Object(d.a)(t,2),r=n[0],a=n[1],c=Nt();return Object(be.jsxs)(Ct.a,{className:c.rootControl,children:[Object(be.jsx)(We.a,Object(P.a)(Object(P.a)({className:c.input,variant:"outlined",error:a.error&&a.touched},r),e)),a.error&&a.touched&&Object(be.jsx)(gt.a,{className:c.error,children:a.error})]})},wt=n(39),It=wt.b().shape({email:wt.d().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),password:wt.d().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")}),St=Object(R.a)((function(e){return{loader:{color:e.color},controls:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px"}}}));var Tt=function(e){var t=e.isLoading,n=e.children,r=St();return Object(be.jsx)(I.a,{className:r.controls,children:t?Object(be.jsx)(p.a,{size:60,className:r.loader}):n})};var Et=function(e){var t=e.onSubmit,n=e.isLoading,r=e.demoSingIn,a=yt();return Object(be.jsx)(_e.d,{initialValues:{email:"",password:""},validateOnBlur:!0,validationSchema:It,onSubmit:t,children:function(e){var t=e.status;return Object(be.jsxs)(_e.c,{autoComplete:"false",className:a.loginForm,children:[t&&Object(be.jsx)(gt.a,{className:a.statusTest,children:t}),Object(be.jsx)(_e.a,{disabled:n,placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",as:kt,name:"email"}),Object(be.jsx)(_e.a,{disabled:n,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",as:kt,name:"password"}),Object(be.jsx)(Tt,{isLoading:n,children:Object(be.jsxs)(I.a,{className:a.buttonsBox,children:[Object(be.jsx)(pe.a,{className:a.button,type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(be.jsx)(pe.a,{className:a.button,onClick:r,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0434\u0435\u043c\u043e \u0440\u0435\u0436\u0438\u043c"}),Object(be.jsx)(je.a,{href:ne,className:a.link,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})})]})}})};var Lt=function(){var e=vt(),t=Object(O.g)(),n=a.a.useContext(f),r=Object(s.b)(),c=a.a.useState(!1),o=Object(d.a)(c,2),i=o[0],u=o[1],l=function(){var e=Object(ye.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,n.loginAsGuest();case 4:t.push(ee),r({type:Y}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(ye.a)(ge.a.mark((function e(r,a){var c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.setStatus,u(!0),c(!1),e.prev=3,e.next=6,n.login(r.email,r.password);case 6:t.push(ee),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),c("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0438\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),u(!1);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(be.jsxs)(I.a,{className:e.loginPageRoot,children:[Object(be.jsx)(L.a,{className:e.title,variant:"h3",component:"h1",children:"\u0412\u0445\u043e\u0434"}),Object(be.jsx)(Et,{onSubmit:j,isLoading:i,demoSingIn:l})]})},Dt=Object(R.a)((function(e){return{loginPageRoot:{minHeight:"480px",display:"flex",flexDirection:"column",alignItems:"center"},title:{color:e.color,marginBottom:30},link:{color:e.color,fontSize:18,textDecoration:"none",cursor:"pointer"},button:Object(P.a)({},e.button)}})),Pt=Object(R.a)((function(e){return{form:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"50%",height:"60%"},button:Object(P.a)(Object(P.a)({},e.button),{},{width:"60%",margin:"0 auto"}),buttonsBox:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",width:"100%",height:80},link:{color:e.color,fontSize:18,textDecoration:"none",cursor:"pointer"}}})),Rt=wt.b().shape({email:wt.d().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),password:wt.d().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c").min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f: 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),repeatedPassword:wt.d().oneOf([wt.c("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")});var At=function(e){var t=e.onSubmit,n=e.isLoading,r=Pt();return Object(be.jsx)(_e.d,{initialValues:{email:"",password:"",repeatedPassword:""},validateOnBlur:!0,validationSchema:Rt,onSubmit:function(e){return t({email:e.email,password:e.password})},children:function(){return Object(be.jsxs)(_e.c,{autoComplete:"false",className:r.form,children:[Object(be.jsx)(_e.a,{placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",as:kt,name:"email"}),Object(be.jsx)(_e.a,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",as:kt,name:"password"}),Object(be.jsx)(_e.a,{placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",as:kt,name:"repeatedPassword"}),Object(be.jsx)(Tt,{isLoading:n,children:Object(be.jsxs)(I.a,{className:r.buttonsBox,children:[Object(be.jsx)(pe.a,{className:r.button,type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(be.jsx)(je.a,{href:te,className:r.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})}})};var Bt=function(){var e=a.a.useContext(f),t=Object(O.g)(),n=a.a.useState(!1),r=Object(d.a)(n,2),c=r[0],o=r[1],s=function(){var n=Object(ye.a)(ge.a.mark((function n(r){return ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),n.prev=1,n.next=4,e.registration(r.email,r.password);case 4:t.push(ee),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),o(!1);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}();return Object(be.jsx)(At,{onSubmit:s,isLoading:c})};var Ut=function(){var e=Dt();return Object(be.jsxs)(I.a,{className:e.loginPageRoot,children:[Object(be.jsx)(L.a,{className:e.title,variant:"h3",component:"h1",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(be.jsx)(Bt,{})]})},Mt=n(322),_t=n(319),Wt=n.n(_t),zt=Object(R.a)((function(e){return{root:{backgroundColor:e.secondary,minWidth:"600px",minHeight:"520px"}}})),qt=n(456),Ft=Object(R.a)((function(e){return{checkBox:Object(P.a)({},e.checkbox)}}));var Vt=function(e){var t=e.labelText,n=Object(st.a)(e,["labelText"]),r=Ft(),a=Object(_e.e)(n),c=Object(d.a)(a,1)[0];return Object(be.jsx)(Ke.a,{control:Object(be.jsx)(Ze.a,Object(P.a)({checked:c.value,className:r.checkBox},c)),label:t})},Gt=n(318),Ht=n.n(Gt),Yt=Object(R.a)((function(e){return{selectMenu:{"& ul":{backgroundColor:e.primary}},select:{"&.MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:e.primary,boxShadow:"0 0 5px #ccc"},"&.Mui-focused fieldset":{borderColor:e.primary}}},socialIcon:{color:e.color},input:Object(P.a)(Object(P.a)({},e.input),{},{flexGrow:.7,borderRadius:5})}}));var Jt=function(e){var t=Object(_e.e)(e),n=Object(d.a)(t,1)[0],r=Yt();return Object(be.jsx)(Ve.a,Object(P.a)(Object(P.a)({},n),{},{variant:"outlined",className:r.select,MenuProps:{classes:{paper:r.selectMenu}},children:se.map((function(e,t){var n=e.component;return Object(be.jsx)(Ge.a,{value:e.name,children:Object(be.jsx)(n,{className:r.socialIcon})},t)}))}))};var Xt=function(e){var t=Object.assign({},e),n=Yt(),r=Object(_e.e)(t),a=Object(d.a)(r,2),c=a[0],o=a[1];return Object(be.jsx)(We.a,Object(P.a)(Object(P.a)({variant:"outlined",error:o.touched&&o.error},c),{},{className:n.input}))};var Kt=function(e){var t=e.socialName,n=e.urlName,r=e.onDelete,a=Yt();return Object(be.jsxs)(b.a,{item:!0,container:!0,justify:"space-between",alignItems:"center",children:[Object(be.jsx)(_e.a,{name:t,as:Jt}),Object(be.jsx)(_e.a,{name:n,className:a.input,variant:"outlined",as:Xt}),Object(be.jsx)(D.a,{onClick:r,children:Object(be.jsx)(Ht.a,{})})]})},Zt=Object(R.a)((function(e){return{root:{},button:Object(P.a)({},e.button),socialsPlaceholder:{color:e.color}}}));function Qt(e){var t=e.socials,n=Zt();return Object(be.jsx)(_e.b,{name:"socials",render:function(e){return Object(be.jsxs)(b.a,{className:n.root,container:!0,item:!0,spacing:3,justify:"center",children:[t.length>0?t.map((function(t,n){return Object(be.jsx)(Kt,{socialName:"socials.".concat(n,".name"),urlName:"socials.".concat(n,".url"),onDelete:function(){return e.remove(n)}},n)})):Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",xs:12,children:Object(be.jsx)(L.a,{className:n.socialsPlaceholder,variant:"body1",component:"p",children:"\u0412\u044b \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0441\u043e\u0446\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430"})}),Object(be.jsx)(b.a,{item:!0,children:Object(be.jsx)(pe.a,{className:n.button,disabled:t.length>=5,onClick:function(){return e.insert(t.length+1,{name:"unselected",url:""})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})}})}Qt.defaultProps={socials:[]};var $t=Qt,en=Object(R.a)((function(e){return{form:{padding:"20px 20px 35px 20px"},textarea:{backgroundColor:e.primary,color:e.color,resize:"none",border:"none",borderRadius:5,padding:20,width:"100%",minHeight:150},submitButton:Object(P.a)({},e.button),loaderRoot:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},loader:{color:e.primary}}})),tn=wt.b().shape({fullName:wt.b().shape({firstname:wt.d().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),surname:wt.d().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),lastname:wt.d().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),socials:wt.a().of(wt.b().shape({url:wt.d().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0435\u0442\u044c")}))});var nn=function(e){var t=e.initialValue,n=e.onSubmit,r=en();return Object(be.jsx)(_e.d,{initialValues:t,onSubmit:function(e){return n(e)},validationSchema:tn,validateOnBlur:!0,children:function(e){var t=e.values;return Object(be.jsx)(_e.c,{className:r.form,children:Object(be.jsxs)(b.a,{container:!0,justify:"space-between",spacing:3,children:[Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",xs:4,children:Object(be.jsx)(_e.a,{as:kt,name:"fullName.firstname",placeholder:"\u0418\u043c\u044f"})}),Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",xs:4,children:Object(be.jsx)(_e.a,{as:kt,name:"fullName.surname",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})}),Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",xs:4,children:Object(be.jsx)(_e.a,{as:kt,name:"fullName.lastname",placeholder:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"})}),Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",children:Object(be.jsx)($t,{socials:t.socials})}),Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",children:Object(be.jsx)(_e.a,{className:r.textarea,as:qt.a,name:"description"})}),Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",xs:6,children:Object(be.jsx)(_e.a,{as:Vt,name:"isImportant",labelText:"\u0412\u0430\u0436\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442"})}),Object(be.jsx)(b.a,{item:!0,container:!0,justify:"center",xs:6,children:Object(be.jsx)(pe.a,{type:"submit",className:r.submitButton,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})}})};var rn=function(){var e=en();return Object(be.jsx)(I.a,{className:e.loaderRoot,children:Object(be.jsx)(p.a,{className:e.loader,size:80})})},an=function(){return{type:Q}},cn=function(e){return{type:Z,payload:e}},on=function(e){return{type:V,payload:e}};var sn=function(){var e=Object(O.h)().id,t=Object(s.c)((function(e){var t=e.editCustomer;return{customer:t.customer,isLoading:t.isLoading}})),n=t.customer,r=t.isLoading,c=Object(O.g)(),o=Object(s.b)();return a.a.useEffect((function(){o(function(e,t){return function(){var n=Object(ye.a)(ge.a.mark((function n(r){var a;return ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(an()),n.prev=1,n.next=4,y.getCustomer(e);case 4:a=n.sent,r(cn(a.val())),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t.push(ce);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,c))}),[]),r?Object(be.jsx)(rn,{}):Object(be.jsx)(nn,{onSubmit:function(e){o(e?function(e,t){return function(){var n=Object(ye.a)(ge.a.mark((function n(r){return ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(an()),n.prev=1,n.next=4,y.updateCstuomer(e);case 4:r(on(e)),t.push(ee),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t.push(ce);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,c):function(e,t){return function(){var n=Object(ye.a)(ge.a.mark((function n(r){return ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.addNewCustomer(e);case 3:r(on(e)),t.push(ee),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t.push(ce);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(e,c))},initialValue:n||{uid:Date.now(),fullName:{firstname:"",surname:"",lastname:""},isImportant:!1,description:"",socials:[]}})};function un(){var e=Object(O.g)(),t=zt();return Object(be.jsxs)(Mt.a,{className:t.root,children:[Object(be.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(be.jsx)(D.a,{onClick:function(){return e.push(ee)},children:Object(be.jsx)(Wt.a,{})})}),Object(be.jsx)(sn,{})]})}var ln=a.a.forwardRef(un),jn=Object(R.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},text:{color:e.color,margin:"15% 0 20px 0"},button:Object(P.a)({},e.button)}}));var bn=function(e){var t=e.buttonOnClick,n=jn();return Object(be.jsxs)(I.a,{className:n.root,children:[Object(be.jsx)(L.a,{className:n.text,children:"\u041f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),Object(be.jsx)(pe.a,{className:n.button,onClick:t,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})};var dn=function(){var e=Object(O.g)();return Object(be.jsx)(bn,{buttonOnClick:function(){e.push(ee)}})},mn=n(66),On={isLoading:!1,customers:[],error:!1,nameFilter:{type:ie[0].value,value:""},paramiters:{importantFirst:!1},demo:{isActive:!1,openDemoPopup:!1}},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(P.a)(Object(P.a)({},e),{},{error:!1,isLoading:!0});case q:return Object(P.a)(Object(P.a)({},e),{},{error:!0,isLoading:!1});case F:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,customers:t.payload});case V:return Object(P.a)(Object(P.a)({},e),{},{customers:Object(P.a)(Object(P.a)({},e.customers),{},Object(mn.a)({},t.payload.uid,t.payload))});case X:return Object(P.a)(Object(P.a)({},e),{},{nameFilter:t.payload});case K:return Object(P.a)(Object(P.a)({},e),{},{paramiters:Object(P.a)(Object(P.a)({},e.paramiters),{},Object(mn.a)({},t.payload.name,t.payload.value))});case G:var n=Te(e.customers,t.payload);return Object(P.a)(Object(P.a)({},e),{},{customers:n});case Y:return Object(P.a)(Object(P.a)({},e),{},{demo:{isActive:!0,openDemoPopup:!0}});case J:return Object(P.a)(Object(P.a)({},e),{},{demo:Object(P.a)(Object(P.a)({},e.demo),{},{openDemoPopup:!1})});case H:return On;default:return e}},fn={customer:null,isLoading:!1,error:null},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,customer:t.payload});case Q:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!0,error:null});case $:return Object(P.a)(Object(P.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},xn=Object(l.c)({customers:pn,editCustomer:hn}),vn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,gn=Object(l.e)(xn,vn(Object(l.a)(j.a))),yn=n(92),Cn=Object(yn.a)({primary:"#b6be82",secondary:"#efdb9d",color:"#5d5843",errorColor:"#ff4747",root:{backgroundColor:"#b6be82",padding:"30px 0px",minHeight:"100vh"},button:{backgroundColor:"#b6be82",color:"#5d5843",textTransform:"none","&:hover":{color:"#efdb9d",backgroundColor:"#5d5843"}},input:{backgroundColor:"#b6be82",borderRadius:5,"& .MuiOutlinedInput-root":{color:"#5d5843","&.Mui-focused":{"& fieldset":{borderColor:"#b6be82",borderWidth:3}},"& fieldset":{borderColor:"#b6be82"}}},checkbox:{color:"#b6be82","&.Mui-checked":{color:"#5d5843"}}}),Nn=n(489),kn=Object(R.a)((function(e){return{root:e.root,main:{backgroundColor:e.secondary,marginTop:40,borderRadius:5,padding:20,minHeight:500}}}));var wn=function(){var e=kn();return Object(be.jsxs)(I.a,{className:e.root,children:[Object(be.jsx)(Nn.a,{}),Object(be.jsx)(ot,{}),Object(be.jsx)(nt.a,{children:Object(be.jsx)(I.a,{className:e.main,children:Object(be.jsx)(bt,{})})})]})};o.a.render(Object(be.jsx)(s.a,{store:gn,children:Object(be.jsx)(i.a,{theme:Cn,children:Object(be.jsx)(f.Provider,{value:y,children:Object(be.jsx)(u.a,{children:Object(be.jsx)(wn,{})})})})}),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.c8555fa1.chunk.js.map